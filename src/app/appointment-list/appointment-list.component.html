<script src="https://kit.fontawesome.com/6f7963ec93.js" crossorigin="anonymous"></script>
<div class="container">
  <div class="row" style="margin: 30px;">
    <div class="col">

    </div>
    <div class="col-6">
      <h2 class="text-center">EMPLOYEE DATABASE</h2>
    </div>

    <div class="col">
      <div class="search-container">
        <input class="form-control search-input" type="text" placeholder="Search by Name" (keyup)="filterAppointments()"
          [(ngModel)]="searchText" />
        <ul class="suggestion-list" *ngIf="filteredAppointments.length > 0 && searchText.length > 0"
          style="list-style-type: none; position: absolute; top: 100%; left: 0; z-index: 1; background-color: white; border: 1px solid #ddd; width: 100%;">
          <li *ngFor="let suggestion of filteredAppointments; trackBy: trackByFn"
            style="margin: 10px;background-color:#ddd">
            <a (click)="selectSuggestion(suggestion)">{{ suggestion.name }}</a>
          </li>
        </ul>
      </div>
      <table>
        <tbody>
          <tr *ngFor="let appointment of appointments | search:searchText; trackBy: trackByFn; index as i">
            <td style="width: 30%;">
              <!-- <a class="btn btn-primary" style="margin-right: 10px;" (click)="editAppointment(i)">Edit Employee</a>
                      <a class="btn btn-danger" (click)="deleteAppointment(i)">Delete Employee</a> -->
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row">
    <div class="widget-container">
      <div class="widget green">
        <div class="icon">
          <svg style="height: 50px; width: 70px;" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
            <path fill="#ffffff"
              d="M289.8 46.8c3.7-9 12.5-14.8 22.2-14.8H424c13.3 0 24 10.7 24 24V168c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-33.4-33.4L321 204.2c19.5 28.4 31 62.7 31 99.8c0 97.2-78.8 176-176 176S0 401.2 0 304s78.8-176 176-176c37 0 71.4 11.4 99.8 31l52.6-52.6L295 73c-6.9-6.9-8.9-17.2-5.2-26.2zM400 80l0 0h0v0zM176 416a112 112 0 1 0 0-224 112 112 0 1 0 0 224z" />
          </svg> <!-- male -->
        </div>
        <div class="value">
          <div class="top">{{maleEmployees}}</div>
          <div class="bottom">Male</div>
        </div>
      </div>
      <div class="widget yellow">
        <div class="icon">
          <svg style="height: 50px; width: 70px;" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 384 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
            <path fill="#ffffff"
              d="M80 176a112 112 0 1 1 224 0A112 112 0 1 1 80 176zM224 349.1c81.9-15 144-86.8 144-173.1C368 78.8 289.2 0 192 0S16 78.8 16 176c0 86.3 62.1 158.1 144 173.1V384H128c-17.7 0-32 14.3-32 32s14.3 32 32 32h32v32c0 17.7 14.3 32 32 32s32-14.3 32-32V448h32c17.7 0 32-14.3 32-32s-14.3-32-32-32H224V349.1z" />
          </svg>
        </div>
        <div class="value">
          <div class="top">{{femaleEmployees}}</div>
          <div class="bottom">Female</div>
        </div>
      </div>
      <div class="widget violet">
        <div class="icon">
          <svg style="height: 50px; width: 70px;" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
            <path fill="#ffffff"
              d="M112 0c6.5 0 12.3 3.9 14.8 9.9s1.1 12.9-3.5 17.4l-31 31L112 78.1l7-7c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-7 7 15.2 15.2C187.7 107.6 220.5 96 256 96s68.3 11.6 94.9 31.2l68.8-68.8-31-31c-4.6-4.6-5.9-11.5-3.5-17.4s8.3-9.9 14.8-9.9h96c8.8 0 16 7.2 16 16v96c0 6.5-3.9 12.3-9.9 14.8s-12.9 1.1-17.4-3.5l-31-31-68.8 68.8C404.4 187.7 416 220.5 416 256c0 80.2-59 146.6-136 158.2V432h16c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v8c0 13.3-10.7 24-24 24s-24-10.7-24-24v-8H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h16V414.2C155 402.6 96 336.2 96 256c0-35.5 11.6-68.3 31.2-94.9L112 145.9l-7 7c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l7-7L58.3 92.3l-31 31c-4.6 4.6-11.5 5.9-17.4 3.5S0 118.5 0 112V16C0 7.2 7.2 0 16 0h96zM352 256a96 96 0 1 0 -192 0 96 96 0 1 0 192 0z" />
          </svg>
        </div>
        <div class="value">
          <div class="top">{{otherEmployees}}</div>
          <div class="bottom">Others</div>
        </div>
      </div>

      <div class="widget red">
        <div class="icon">
          <svg style="height: 50px; width: 50px; padding-left: 10px;" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 640 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
            <path fill="#ffffff"
              d="M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM625 177L497 305c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L591 143c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z" />
          </svg>
        </div>
        <div class="value">

          <div class="top" style="margin-bottom: -10px;">{{activeEmployees}}</div>
          <div class="bottom" >Active Employees</div>

        </div>
      </div>
      <div class="widget blue">
        <div class="icon">
          <svg style="height: 50px; width: 50px; padding-left: 8px" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 640 512"><!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
            <path fill="#ffffff"
              d="M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0H21.3C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7h42.7C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3H405.3zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352H378.7C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z" />
          </svg>

        </div>
        <div class="value">
          <div class="top" style="margin-bottom: -10px;">{{totalEmployees}}</div>
          <div class="bottom">Total Employees</div>
        </div>
      </div>
    </div>
  </div>
  <div class="card mt-3" style="background-color: rgba(232, 231, 231, 0.961);">
    <div class="row justify-content-center m-4">
      <div class="col-6" style="background-color: rgba(232, 231, 231, 0.961);padding: 20px;">
        <h4 class="text-center">{{ isEditMode ? 'Edit Employee' : 'Add Employee' }}</h4>
        <div class="row">
          <div class="col-12"> <!-- Use col-6 to make the width half -->
            <label for="newName">Enter your Name</label>
            <input required class="form-control mb-2" [(ngModel)]="newName" type="string" placeholder="Name">
            <label for="gender">Gender</label>
            <br>
            <span *ngFor="let gen of gender" style="padding-left: 60px;">

              <input type="radio" id="{{gen.value}}" value="{{gen.value}}" name="gender" [(ngModel)]="newGender">
              <label for="gen.value" [ngModel]="newGender">{{gen.value}}</label>
            </span>
            <br>

            <label for="newEmail" style="margin-top: 5px;">Enter your Email</label>
            <input type="email" class="form-control mb-2" [(ngModel)]="newEmail" placeholder="E-Mail ID">

            <label for="newRole" style="margin-right: 10px;">Select Role</label>
            <select [(ngModel)]="newRole">
              <option value="">None</option>
              <option *ngFor="let dept of departments" value="{{dept.name}}">{{dept.name}}</option>

            </select>
            <br>
            <br>
            <label for="number">Phone Number</label>
            <input type="number" class="form-control mb-2" [(ngModel)]="newContact" placeholder="Phone No.">

            <label for="activeEmployee" [(ngModel)]="newactiveEmployee">
              Active Employee
            </label>
            <input type="checkbox" style="margin-left: 10px;width: 16px;height: 16px;">


            <br>
            <br>
            <!-- <p>{{deptID}}</p> -->
            <!-- <input type="text" class="form-control mb-2" [(ngModel)]="newRole" placeholder="Enter your Role"> -->
            <button type="submit" class="btn btn-primary" style="margin-left: 30%;width: 200px;height: 40px;"
              (click)="addOrUpdateAppointment()">{{ isEditMode ? 'Update' : 'Add' }}</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <h2 class="text-center mt-5">Employee Details</h2>
  <div class="card-body">
    <table datatable [dtOptions]="dtoptions" class="table table-bordered table-striped">
      <thead class="bg-dark text-white" style="font-size: large;">
        <tr>
          <td><b>ID</b></td>
          <td><b>Name</b></td>
          <td><b>Gender</b></td>
          <td><b>Email</b></td>
          <td><b>Is Active</b></td>
          <td><b>Phone Number</b></td>
          <td><b>Role</b></td>
          <td><b>Action</b></td>

        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let appointment of appointments | search :searchText ;index as i">
          <td>{{appointment.id}}</td>
          <td>{{appointment.name}}</td>
          <td>{{appointment.gender}}</td>
          <td>{{appointment.email}}</td>
          <td>{{appointment.activeEmployee}}</td>
          <td>{{appointment.contact}}</td>
          <td>{{appointment.role}}</td>

          <td style="width: 30%;">
            <button class="btn btn-primary" style="margin-right: 10px;" (click)="editAppointment(i)"><svg
                xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="40" height="40" viewBox="0 0 80 80">
                <path
                  d="M 63.074219 10.003906 C 61.535156 10.003906 59.996094 10.589844 58.828125 11.757813 L 51.585938 19 L 15.140625 55.441406 L 9.257813 70.738281 L 24.558594 64.859375 L 24.707031 64.707031 L 68.242188 21.171875 C 70.578125 18.835938 70.578125 15.019531 68.242188 12.6875 L 67.3125 11.757813 C 66.148438 10.589844 64.609375 10.003906 63.074219 10.003906 Z M 63.074219 11.992188 C 64.09375 11.992188 65.113281 12.386719 65.902344 13.171875 L 66.828125 14.097656 C 68.398438 15.671875 68.398438 18.1875 66.828125 19.757813 L 66 20.585938 L 59.414063 14 L 60.242188 13.171875 C 61.027344 12.386719 62.050781 11.992188 63.074219 11.992188 Z M 58 15.414063 L 64.585938 22 L 61 25.585938 L 54.414063 19 Z M 53 20.414063 L 59.585938 27 L 24.65625 61.929688 C 24.480469 61.378906 24.207031 60.792969 23.707031 60.292969 C 22.972656 59.558594 22.046875 59.289063 21.320313 59.144531 C 21.089844 59.097656 21.089844 59.121094 20.902344 59.097656 C 20.878906 58.910156 20.902344 58.910156 20.855469 58.679688 C 20.710938 57.953125 20.441406 57.027344 19.707031 56.292969 C 19.207031 55.792969 18.621094 55.519531 18.070313 55.34375 Z M 53 23 C 52.449219 23 52 23.449219 52 24 C 52 24.550781 52.449219 25 53 25 C 53.550781 25 54 24.550781 54 24 C 54 23.449219 53.550781 23 53 23 Z M 50 26 C 49.449219 26 49 26.449219 49 27 C 49 27.550781 49.449219 28 50 28 C 50.550781 28 51 27.550781 51 27 C 51 26.449219 50.550781 26 50 26 Z M 47 29 C 46.449219 29 46 29.449219 46 30 C 46 30.550781 46.449219 31 47 31 C 47.550781 31 48 30.550781 48 30 C 48 29.449219 47.550781 29 47 29 Z M 44 32 C 43.449219 32 43 32.449219 43 33 C 43 33.550781 43.449219 34 44 34 C 44.550781 34 45 33.550781 45 33 C 45 32.449219 44.550781 32 44 32 Z M 41 35 C 40.449219 35 40 35.449219 40 36 C 40 36.550781 40.449219 37 41 37 C 41.550781 37 42 36.550781 42 36 C 42 35.449219 41.550781 35 41 35 Z M 38 38 C 37.449219 38 37 38.449219 37 39 C 37 39.550781 37.449219 40 38 40 C 38.550781 40 39 39.550781 39 39 C 39 38.449219 38.550781 38 38 38 Z M 35 41 C 34.449219 41 34 41.449219 34 42 C 34 42.550781 34.449219 43 35 43 C 35.550781 43 36 42.550781 36 42 C 36 41.449219 35.550781 41 35 41 Z M 32 44 C 31.449219 44 31 44.449219 31 45 C 31 45.550781 31.449219 46 32 46 C 32.550781 46 33 45.550781 33 45 C 33 44.449219 32.550781 44 32 44 Z M 29 47 C 28.449219 47 28 47.449219 28 48 C 28 48.550781 28.449219 49 29 49 C 29.550781 49 30 48.550781 30 48 C 30 47.449219 29.550781 47 29 47 Z M 26 50 C 25.449219 50 25 50.449219 25 51 C 25 51.550781 25.449219 52 26 52 C 26.550781 52 27 51.550781 27 51 C 27 50.449219 26.550781 50 26 50 Z M 23 53 C 22.449219 53 22 53.449219 22 54 C 22 54.550781 22.449219 55 23 55 C 23.550781 55 24 54.550781 24 54 C 24 53.449219 23.550781 53 23 53 Z M 16.660156 57.066406 C 16.753906 57.082031 16.824219 57.085938 16.929688 57.105469 C 17.453125 57.210938 18.027344 57.441406 18.292969 57.707031 C 18.558594 57.972656 18.789063 58.546875 18.894531 59.070313 C 19 59.59375 19 60 19 60 L 19 61 L 20 61 C 20 61 20.40625 61 20.929688 61.105469 C 21.453125 61.210938 22.027344 61.441406 22.292969 61.707031 C 22.558594 61.972656 22.789063 62.546875 22.894531 63.070313 C 22.914063 63.175781 22.917969 63.246094 22.933594 63.339844 L 16.003906 66.003906 L 13.996094 63.996094 Z">
                </path>
              </svg></button>
            <button class="btn btn-danger" (click)="clickMethod(i)"><svg xmlns="http://www.w3.org/2000/svg" x="0px"
                y="0px" width="40" height="40" viewBox="0 0 50 50">
                <path
                  d="M 21 0 C 19.355469 0 18 1.355469 18 3 L 18 5 L 10.1875 5 C 10.0625 4.976563 9.9375 4.976563 9.8125 5 L 8 5 C 7.96875 5 7.9375 5 7.90625 5 C 7.355469 5.027344 6.925781 5.496094 6.953125 6.046875 C 6.980469 6.597656 7.449219 7.027344 8 7 L 9.09375 7 L 12.6875 47.5 C 12.8125 48.898438 14.003906 50 15.40625 50 L 34.59375 50 C 35.996094 50 37.1875 48.898438 37.3125 47.5 L 40.90625 7 L 42 7 C 42.359375 7.003906 42.695313 6.816406 42.878906 6.503906 C 43.058594 6.191406 43.058594 5.808594 42.878906 5.496094 C 42.695313 5.183594 42.359375 4.996094 42 5 L 32 5 L 32 3 C 32 1.355469 30.644531 0 29 0 Z M 21 2 L 29 2 C 29.5625 2 30 2.4375 30 3 L 30 5 L 20 5 L 20 3 C 20 2.4375 20.4375 2 21 2 Z M 11.09375 7 L 38.90625 7 L 35.3125 47.34375 C 35.28125 47.691406 34.910156 48 34.59375 48 L 15.40625 48 C 15.089844 48 14.71875 47.691406 14.6875 47.34375 Z M 18.90625 9.96875 C 18.863281 9.976563 18.820313 9.988281 18.78125 10 C 18.316406 10.105469 17.988281 10.523438 18 11 L 18 44 C 17.996094 44.359375 18.183594 44.695313 18.496094 44.878906 C 18.808594 45.058594 19.191406 45.058594 19.503906 44.878906 C 19.816406 44.695313 20.003906 44.359375 20 44 L 20 11 C 20.011719 10.710938 19.894531 10.433594 19.6875 10.238281 C 19.476563 10.039063 19.191406 9.941406 18.90625 9.96875 Z M 24.90625 9.96875 C 24.863281 9.976563 24.820313 9.988281 24.78125 10 C 24.316406 10.105469 23.988281 10.523438 24 11 L 24 44 C 23.996094 44.359375 24.183594 44.695313 24.496094 44.878906 C 24.808594 45.058594 25.191406 45.058594 25.503906 44.878906 C 25.816406 44.695313 26.003906 44.359375 26 44 L 26 11 C 26.011719 10.710938 25.894531 10.433594 25.6875 10.238281 C 25.476563 10.039063 25.191406 9.941406 24.90625 9.96875 Z M 30.90625 9.96875 C 30.863281 9.976563 30.820313 9.988281 30.78125 10 C 30.316406 10.105469 29.988281 10.523438 30 11 L 30 44 C 29.996094 44.359375 30.183594 44.695313 30.496094 44.878906 C 30.808594 45.058594 31.191406 45.058594 31.503906 44.878906 C 31.816406 44.695313 32.003906 44.359375 32 44 L 32 11 C 32.011719 10.710938 31.894531 10.433594 31.6875 10.238281 C 31.476563 10.039063 31.191406 9.941406 30.90625 9.96875 Z">
                </path>
              </svg></button>
          </td>
        </tr>
      </tbody>
    </table>
    <mat-paginator [pageSize]="pageSize" [pageSizeOptions]="pageSizeOptions" showFirstLastButtons></mat-paginator>

  </div>